<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>无标题文档</title>
	<script>
	//常量和局部变量
//		在JS 1.5及以后的版本中，可以使用const关键字来定义常量，常量可以看成是不可重复声明赋值的变量，
//	重新赋值会失败但不报错，重复声明会报错
		const pi = 3.14;	//定义一个常量并赋值
//		pi = 4;				//任何对该常量的赋值都会被忽略
//		const pi = 4;		//重新声明会报错
//		var pi = 4;			//这里也会报错
	
//		与const不同，const一直是JS里面的保留字，可以不做修改的直接使用，而let是新增的，仅在JS 1.7以及
//	以后的版本才支持，使用时需要手动输入版本号才行： 	
//		<script type="application/javascript; version=1.8">  //现行的主流引擎早已支持let关键字
		
		
//		let有四种使用方式：
//	1.声明变量，与var一样
//	2.在for或者for/in中，作为var的代替方案
//	3.在语句块中定义一个新的变量并显式的指明它的作用域
//	4.定义一个在表达式内部作用域中的变量，这个变量仅在表达式内可用
		
//		在循环体内使用let声明变量，那么这个变量在循环体外是不可用的：
//	例：
		function oddsums(n) {
			let total = 0, result = [];		//在函数内是有定义的
			for(let x = 1; x <= n; x++) {	//x只在循环体内有定义
				let odd = 2 * x - 1;		//odd只在循环体内有定义
				total += odd;
				result.push(total);
			}
			//在这里使用x,odd会导致一个引用错误
			return result;
		}	
		
		oddsums(5); 		//返回[1,4,9,16,25]
		
//		同样的，我们也可以在for/in循环里面使用let：
		var o = {x:1, y:2};
		for(let p in o) 
			console.log(p);		//输出x和y
//		console.log(p);			//引用错误，p没有定义
		
		//注意：在声明语句中使用let和在循环初始化中使用let，两者有着有趣的区别，前者变量初始化表达式是在
//	变量的作用域内计算，而后者则是在作用域外计算
			
//		let x = 1;
//		for(let x = x + 1; x < 5; x++)
//			console.log(x);		//输出2~4
//		{						//开始一个新的语句块，创建新的变量作用域
//			let x = x + 1;		//x没有定义，因此 x+1是NaN
//			console.log(x);		//输出NaN
//		}
		
//		需要注意的是，let声明的变量和var声明的变量一样，在同一个块作用域内，会被”提前“
		
//		有一种方法可以避免let声明语句之前使用变量出错：在一条单独的let语句的代码块中既包含一组变量的声明，也包换这些变量的初始化表达式，
//	语句里的变量和初始化表达式都放在一对圆括号内，随后跟随一对花括号括起来的语句块：
		
//		let x = 1, y = 2;
//		let (x=x+1,y=x+2) {
//			console.log(x+y);	//输出5
//		};
//		console.log(x+y);		//输出3


		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
	</script>
</head>

<body>
</body>
</html>
